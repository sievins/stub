{"version":3,"sources":["theme/theme.js","theme/toggle.js","title/copyright/copyright.js","title/title.js","passage/chapter-numbers.js","utils.js","passage/parser.js","passage/passage.js","menu/actions/settings/settings.js","menu/actions/actions.js","services/api.js","menu/search/search.js","menu/menu.js","app.js","serviceWorker.js","index.js"],"names":["themes","dark","type","backgroundColor","color","light","ThemeContext","createContext","useStyles","makeStyles","theme","toggle","position","display","left","spacing","top","text","margin","Toggle","_ref","checked","handleChange","useContext","classes","react_default","a","createElement","className","Switch","onChange","value","inputProps","aria-label","Typography","variant","link","cursor","Copyright","_useState","useState","_useState2","Object","slicedToArray","open","setOpen","react","Link","onClick","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","title","flexDirection","justifyContent","alignItems","marginTop","marginBottom","Title","copyright","singleChapterBooks","addChapterNumbers","query","_splitQuery","match","splitQuery","_splitQuery2","book","verses","includes","test","chapter","replace","concat","_verses$match","_verses$match2","_verses$match3","_verses$match4","_verses$match5","_verses$match6","startChapter","_verses$match7","_verses$match8","_pipe","f","g","call","this","apply","arguments","pipe","length","Error","_arguments","Array","prototype","slice","first","rest","n","fn","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","_arity","reduce","superScriptVerseNumbers","parse","passage","settings","withVerseNumbers","withoutVerseNumbers","parsedTest","DOMPurify","sanitize","dangerouslySetInnerHTML","__html","Passage","handlePassageRef","passageRef","useRef","useEffect","current","withBigMargins","header","withReference","gutterBottom","ref","init","Settings","handleClose","initialSettings","setInitialSettings","_useState3","_useState4","setSettings","_useState5","_useState6","confirmed","setConfirmed","handleSwitchChange","name","event","objectSpread2","defineProperty","target","onEnter","onExited","FormGroup","FormControlLabel","control","label","DialogActions","Button","actions","right","marginRight","print","Actions","isPassage","handleSettingsChange","button","style","disabled","buildButton","IconButton","Settings_default","settings_settings","lib_default","trigger","content","axios","require","fetch","includeVerseNumbers","response","regenerator_default","async","_context","prev","next","awrap","get","headers","Authorization","process","params","q","include-verse-numbers","include-first-verse-numbers","include-passage-references","include-footnotes","include-footnote-body","include-headings","include-short-copyright","include-copyright","timeout","sent","abrupt","data","stop","getPassage","_ref2","_context2","Promise","all","passages","api","search","textField","marginLeft","width","height","Search","handleSearch","setQuery","isFetching","setIsFetching","errorMessage","setErrorMessage","computeErrorMessage","Boolean","t0","TextField","onKeyPress","key","error","helperText","menu","Menu","app","minHeight","fontSize","createMaterialTheme","createMuiTheme","palette","App","setTheme","setPassage","setPassageRef","_useState7","_useState8","app_ThemeContext","Provider","ThemeProvider","src_passage_passage","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"ggBAEaA,EAAS,CACpBC,KAAM,CACJC,KAAM,OACNC,gBAAiB,UACjBC,MAAO,SAETC,MAAO,CACLH,KAAM,QACNC,gBAAiB,QACjBC,MAAO,YAIEE,EAAeC,wBAAcP,EAAOC,uBCR3CO,EAAYC,YAAW,SAACC,GAAD,MAAY,CACvCC,OAAQ,CACNC,SAAU,WACVC,QAAS,cACTC,KAAMJ,EAAMK,QAAQ,IACpBC,IAAKN,EAAMK,QAAQ,IAErBE,KAAM,CACJC,OAAQ,WAgCGC,MA5Bf,SAAAC,GAAyC,IAAxBC,EAAwBD,EAAxBC,QAASC,EAAeF,EAAfE,aAClBZ,EAAQa,qBAAWjB,GACnBkB,EAAUhB,IAEhB,OACEiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQb,QACtBc,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACER,QAASA,EACTS,SAAUR,EACVS,MAAM,eACNC,WAAY,CAAEC,aAAc,oBAE9BR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAYC,QAAQ,QAAQP,UAAWJ,EAAQP,MAE5B,SAAfP,EAAMR,KACJ,aACA,8DC3BNM,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrC0B,KAAM,CACJC,OAAQ,cA4BGC,MAxBf,WACE,IAAMd,EAAUhB,IADG+B,EAEKC,oBAAS,GAFdC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEZK,EAFYH,EAAA,GAENI,EAFMJ,EAAA,GAInB,OACEhB,EAAAC,EAAAC,cAACmB,EAAA,SAAD,KACErB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,QAAS,kBAAMH,GAAQ,IAAOjB,UAAWJ,EAAQY,MAAvD,OACAX,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CACEL,KAAMA,EACNM,QAAS,kBAAML,GAAQ,IACvBM,kBAAgB,mBAChBC,mBAAiB,gCAEjB3B,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAaC,GAAG,0BAAhB,oBACA7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACE9B,EAAAC,EAAAC,cAAC6B,EAAA,EAAD,CAAmBF,GAAG,gCAAtB,mWCxBJ9C,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrC+C,MAAO,CACL5C,QAAS,OACT6C,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,UAAWnD,EAAMK,QAAQ,GACzB+C,aAAcpD,EAAMK,QAAQ,OAmBjBgD,MAff,WACE,IAAMvC,EAAUhB,IAEhB,OACEiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQiC,OACtBhC,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAYC,QAAQ,MAApB,QAGAV,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAYC,QAAQ,aAApB,0BAC0BV,EAAAC,EAAAC,cAACqC,EAAD,0BCzBnBC,EAAqB,CAChC,UACA,WACA,SACA,SACA,QAKWC,EAAoB,SAACC,EAAOlD,GAAS,IAAAmD,EAF/B,SAACD,GAAD,OAAWA,EAAME,MAAM,sBAGdC,CAAWH,GADWI,EAAA7B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GACtCI,GADsCD,EAAA,GAAAA,EAAA,IAChCE,EADgCF,EAAA,GAGhD,GAAIN,EAAmBS,SAASF,GAC9B,OAAOvD,EAIT,GAAI,UAAU0D,KAAKF,GAAS,CAC1B,IAAMG,EAAUH,EAChB,OAAOxD,EAAK4D,QAAQ,OAAb,IAAAC,OAAyBF,EAAzB,QAIT,GAAI,0BAAgBD,KAAKF,GAAS,KAAAM,EACXN,EAAOJ,MAAM,SADFW,EAAAtC,OAAAC,EAAA,EAAAD,CAAAqC,EAAA,GACtBH,GADsBI,EAAA,GAAAA,EAAA,IAEhC,OAAO/D,EAAK4D,QAAQ,OAAb,IAAAC,OAAyBF,EAAzB,QAIT,GAAI,2BAAiBD,KAAKF,GAAS,KAAAQ,EACZR,EAAOJ,MAAM,SADDa,EAAAxC,OAAAC,EAAA,EAAAD,CAAAuC,EAAA,GACvBL,GADuBM,EAAA,GAAAA,EAAA,IAEjC,OAAOjE,EAAK4D,QAAQ,OAAb,IAAAC,OAAyBF,EAAzB,QAIT,GAAI,OAAOD,KAAKF,GAAS,KAAAU,EACaV,EAAOJ,MAAM,eAD1Be,EAAA1C,OAAAC,EAAA,EAAAD,CAAAyC,EAAA,GACfE,GADeD,EAAA,GAAAA,EAAA,IAGvB,MADe,MAFQA,EAAA,IAEDC,IACfpE,EAAK4D,QAAQ,QAAS,SAACR,GAAD,UAAAS,OACvBO,IADuB,SAM/B,GAAI,aAAQV,KAAKF,GAAS,KAAAa,EACAb,EAAOJ,MAAM,SADbkB,EAAA7C,OAAAC,EAAA,EAAAD,CAAA4C,EAAA,GAChBD,GADgBE,EAAA,GAAAA,EAAA,IAExB,OAAOtE,EAAK4D,QAAQ,QAAS,SAACR,GAAD,UAAAS,OACvBO,IADuB,SAK/B,OAAOpE,GClCT,SAASuE,EAAMC,EAAGC,GAChB,OAAO,WACL,OAAOA,EAAEC,KAAKC,KAAMH,EAAEI,MAAMD,KAAME,aAI/B,SAASC,IACd,GAAyB,IAArBD,UAAUE,OACZ,MAAM,IAAIC,MAAM,uCAFG,IAAAC,EAAAC,MAAAC,UAAAC,MAAAV,KAKIG,WAAlBQ,EALcJ,EAAA,GAKJK,EALIL,EAAAG,MAAA,GAMrB,OA9BF,SAAgBG,EAAGC,GAEjB,OAAQD,GACN,KAAK,EAAG,OAAO,WAAa,OAAOC,EAAGZ,MAAMD,KAAME,YAClD,KAAK,EAAG,OAAO,SAASY,GAAM,OAAOD,EAAGZ,MAAMD,KAAME,YACpD,KAAK,EAAG,OAAO,SAASY,EAAIC,GAAM,OAAOF,EAAGZ,MAAMD,KAAME,YACxD,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,GAAM,OAAOH,EAAGZ,MAAMD,KAAME,YAC5D,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,GAAM,OAAOJ,EAAGZ,MAAMD,KAAME,YAChE,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAOL,EAAGZ,MAAMD,KAAME,YACpE,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAON,EAAGZ,MAAMD,KAAME,YACxE,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAOP,EAAGZ,MAAMD,KAAME,YAC5E,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAOR,EAAGZ,MAAMD,KAAME,YAChF,KAAK,EAAG,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAOT,EAAGZ,MAAMD,KAAME,YACpF,KAAK,GAAI,OAAO,SAASY,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAM,OAAOV,EAAGZ,MAAMD,KAAME,YACzF,QAAS,MAAM,IAAIG,MAAM,gFAgBpBmB,CACLd,EAAMN,OACNO,EAAKc,OAAO7B,EAAOc,IC3BvB,IAAMgB,EAA0B,SAACrG,GAAD,OAAUA,EAAK4D,QAAQ,mBAAoB,6DAE9D0C,EAAQ,SAACC,EAASC,GAC7B,IAAKD,EAAQrD,MACX,MAAO,GAGT,IAAMlD,EAAOwG,EAASC,iBAAmBF,EAAQE,iBAAmBF,EAAQG,oBAEtEC,EAAa7B,EAAK7B,EAAmBoD,EAAyBO,IAAUC,SAA3D/B,CAAqEyB,EAAQrD,MAAOlD,GAEvG,OAAOQ,EAAAC,EAAAC,cAAA,OAAKoG,wBAAyB,CAACC,OAAQJ,MCT1CpH,SAAYC,YAAW,SAAAC,GAAK,MAAK,CACrC8G,QAAS,CACPtG,OAAQR,EAAMK,QAAQ,IACtB8C,UAAWnD,EAAMK,QAAQ,QA4CdkH,MAxCf,SAAA7G,GAA0D,IAAvCoG,EAAuCpG,EAAvCoG,QAASU,EAA8B9G,EAA9B8G,iBAAkBT,EAAYrG,EAAZqG,SACtCjG,EAAUhB,IACV2H,EAAaC,mBAEnBC,oBAAU,WACRH,EAAiBC,EAAWG,UAC3B,CAACH,EAAYD,IAEhB,IAAMtG,EAAY6F,EAASc,eAAiB,cAAgB,OAEtDC,EAASf,EAASgB,cACtBhH,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAYC,QAAQ,KAAKuG,cAAY,EAAC9G,UAAU,UAC7C4F,EAAQrD,OAEX,KAEF,OACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQgG,SACtB/F,EAAAC,EAAAC,cAAA,OAAKgH,IAAKR,EAAYvG,UAAWA,GAC9B4G,EACAjB,EAAMC,EAASC,0DCxBXmB,EAAO,CAClBlB,kBAAkB,EAClBa,gBAAgB,EAChBE,eAAe,GA2FFI,MAxFf,SAAAzH,GAAuD,IAAnCwB,EAAmCxB,EAAnCwB,KAAMkG,EAA6B1H,EAA7B0H,YAAaxH,EAAgBF,EAAhBE,aAAgBiB,EACPC,mBAASoG,GADFnG,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC9CwG,EAD8CtG,EAAA,GAC7BuG,EAD6BvG,EAAA,GAAAwG,EAErBzG,mBAASoG,GAFYM,EAAAxG,OAAAC,EAAA,EAAAD,CAAAuG,EAAA,GAE9CxB,EAF8CyB,EAAA,GAEpCC,EAFoCD,EAAA,GAAAE,EAGnB5G,oBAAS,GAHU6G,EAAA3G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAG9CE,EAH8CD,EAAA,GAGnCE,EAHmCF,EAAA,GAKrDhB,oBAAU,WACR/G,EAAamG,IACZ,CAACA,EAAUnG,IAEd,IAQMkI,EAAqB,SAAAC,GAAI,OAAI,SAAAC,GACjCP,EAAYzG,OAAAiH,EAAA,EAAAjH,CAAA,GAAK+E,EAAN/E,OAAAkH,EAAA,EAAAlH,CAAA,GAAiB+G,EAAOC,EAAMG,OAAOxI,aAalD,OACEI,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAQL,KAAMA,EAAMkH,QAvBF,WAClBd,EAAmBvB,IAsBuBsC,SAnBvB,YAClBT,GAAaH,EAAYJ,IAkBwC5F,kBAAgB,YAChF1B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KACE9B,EAAAC,EAAAC,cAACqI,EAAA,EAAD,KACEvI,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CACEC,QACEzI,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACER,QAASoG,EAASC,iBAClB5F,SAAU0H,EAAmB,oBAC7BzH,MAAM,mBACN3B,MAAM,YAGV+J,MAAM,kBAER1I,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CACEC,QACEzI,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACER,QAASoG,EAASc,eAClBzG,SAAU0H,EAAmB,kBAC7BzH,MAAM,iBACN3B,MAAM,YAGV+J,MAAM,6BAER1I,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CACEC,QACEzI,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACER,QAASoG,EAASgB,cAClB3G,SAAU0H,EAAmB,iBAC7BzH,MAAM,gBACN3B,MAAM,YAGV+J,MAAM,oBAIZ1I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,KACE3I,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAQrH,QAlDO,WACnBuG,GAAa,GACbT,KAgDmC3G,QAAQ,YAAY/B,MAAM,aAAzD,UAGAqB,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAQrH,QAhDQ,WACpBuG,GAAa,GACbT,KA8CoC3G,QAAQ,YAAY/B,MAAM,WAA1D,yDCjFFoB,EAAU,CACd8I,QAAS,CACP1J,SAAU,WACV2J,MAAO,QAET9C,SAAU,CACR5D,UAAW,OACX2G,YAAa,OAEfC,MAAO,CACL5G,UAAW,SAgDA6G,GAjCC,SAAAtJ,GAAqD,IAAlD+G,EAAkD/G,EAAlD+G,WAAYwC,EAAsCvJ,EAAtCuJ,UAAWC,EAA2BxJ,EAA3BwJ,qBAA2BrI,EAC3CC,oBAAS,GADkCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC5DK,EAD4DH,EAAA,GACtDI,EADsDJ,EAAA,GAE7DoI,EAbY,SAACF,GAAD,OAClBlJ,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CACElI,QAAQ,YACR/B,MAAM,UACN0K,MAAOtJ,EAAQiJ,MACfM,UAAWJ,GAJb,SAYeK,CAAYL,GAE3B,OACElJ,EAAAC,EAAAC,cAAA,OAAKmJ,MAAOtJ,EAAQ8I,SAClB7I,EAAAC,EAAAC,cAACsJ,EAAA,EAAD,CACEjI,QAAS,kBAAMH,GAAQ,IACvBzC,MAAM,UACN0K,MAAOtJ,EAAQiG,SACfxF,aAAW,wBAEXR,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,OAEFD,EAAAC,EAAAC,cAACwJ,EAAD,CACErC,YAAa,kBAAMjG,GAAQ,IAC3BvB,aAAc,SAACmG,GAAD,OAAcmD,EAAqBnD,IACjD7E,KAAMA,IAERnB,EAAAC,EAAAC,cAACyJ,EAAA1J,EAAD,CACE2J,QAAS,kBAAMR,GACfS,QAAS,kBAAMnD,qCCvDjBoD,GAAQC,EAAQ,IAGhBC,GAAQ,SAAOtH,EAAOuH,GAAd,IAAAC,EAAA,OAAAC,GAAAlK,EAAAmK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAAAJ,GAAAlK,EAAAuK,MACWV,GAAMW,IAAI,uCAAwC,CACvEC,QAAS,CAAEC,cAAA,SAAAtH,OAA0BuH,6CACrCC,OAAQ,CACNC,EAAKpI,EACLqI,wBAAyBd,EACzBe,8BAA+Bf,EAC/BgB,8BAA8B,EAC9BC,qBAAqB,EACrBC,yBAAyB,EACzBC,oBAAoB,EACpBC,2BAA2B,EAC3BC,qBAAqB,GAEvBC,QAAS,OAdC,cACNrB,EADMG,EAAAmB,KAAAnB,EAAAoB,OAAA,SAgBLvB,EAASwB,MAhBJ,wBAAArB,EAAAsB,WAmBRC,GAAa,SAAOlJ,GAAP,IAAA/C,EAAAkM,EAAA5F,EAAAC,EAAA,OAAAiE,GAAAlK,EAAAmK,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EAAAJ,GAAAlK,EAAAuK,MACqCuB,QAAQC,IAAI,CAAChC,GAAMtH,GAAO,GAAOsH,GAAMtH,GAAO,MADnF,cAAA/C,EAAAmM,EAAAN,KAAAK,EAAA5K,OAAAC,EAAA,EAAAD,CAAAtB,EAAA,GACVsG,EADU4F,EAAA,GACQ3F,EADR2F,EAAA,GAAAC,EAAAL,OAAA,SAGV,CACLxF,iBAAkBA,EAAiBgG,SAAS,GAC5C/F,oBAAqBA,EAAoB+F,SAAS,GAClDvJ,MAAOuD,EAAiBvD,QANT,wBAAAoJ,EAAAH,WCfXC,GAAeM,EAAfN,WAEF7M,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCkN,OAAQ,CACN/M,QAAS,QAEXgN,UAAW,CACTC,WAAYpN,EAAMK,QAAQ,GAC1ByJ,YAAa9J,EAAMK,QAAQ,GAC3BgN,MAAO,KAETlD,OAAQ,CACNhH,UAAWnD,EAAMK,QAAQ,KACzBiN,OAAQ,kBA8DGC,OA1Df,SAAA7M,GAAkC,IAAhB8M,EAAgB9M,EAAhB8M,aAAgB3L,EACNC,mBAAS,IADHC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACzB4B,EADyB1B,EAAA,GAClB0L,EADkB1L,EAAA,GAAAwG,EAEIzG,oBAAS,GAFb0G,EAAAxG,OAAAC,EAAA,EAAAD,CAAAuG,EAAA,GAEzBmF,EAFyBlF,EAAA,GAEbmF,EAFanF,EAAA,GAAAE,EAGQ5G,mBAAS,IAHjB6G,EAAA3G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAGzBkF,EAHyBjF,EAAA,GAGXkF,EAHWlF,EAAA,GAI1B7H,EAAUhB,KAEVgO,EAAsB,oCAAA1J,OAAyBX,EAAzB,MAEtBsH,EAAQ,eAAAjE,EAAA,OAAAoE,GAAAlK,EAAAmK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACR7H,EADQ,CAAA2H,EAAAE,KAAA,gBAEVqC,GAAc,GAFJvC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,GAAAlK,EAAAuK,MAIcoB,GAAWlJ,IAJzB,OAIFqD,EAJEsE,EAAAmB,KAKQwB,SAASjH,EAAQE,mBAAqBF,EAAQG,qBAE5D4G,EAAgBC,MAEhBD,EAAgB,IAChBL,EAAa1G,IAVPsE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA4C,GAAA5C,EAAA,SAaRyC,EAAgBC,KAbR,QAeVH,GAAc,GAfJ,yBAAAvC,EAAAsB,SAAA,qBAmBd,OACE3L,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQoM,QACtBnM,EAAAC,EAAAC,cAACgN,GAAA,EAAD,CACE7M,SAAU,SAAC4H,GAAD,OAAWyE,EAASzE,EAAMG,OAAO9H,QAC3C6M,WAAY,SAAClF,GAAD,MAAyB,UAAdA,EAAMmF,KAAmBpD,KAChDV,SAAUqD,EACVU,MAAOL,QAAQH,GACfS,WAAYT,EACZhL,GAAG,kBACH6G,MAAM,gBACNjK,KAAK,SACL0B,UAAWJ,EAAQqM,UACnB3M,OAAO,WAETO,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CACErH,QAASyI,EACTV,SAAUqD,IAAejK,EACzBhC,QAAQ,YACR/B,MAAM,UACNwB,UAAWJ,EAAQqJ,QALrB,YC3DArK,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCsO,KAAM,CACJnO,QAAS,OACT8C,eAAgB,SAChB/C,SAAU,eAsBCqO,OAlBf,SAAA7N,GAA6E,IAA7D8M,EAA6D9M,EAA7D8M,aAActD,EAA+CxJ,EAA/CwJ,qBAAsBzC,EAAyB/G,EAAzB+G,WAAYwC,EAAavJ,EAAbuJ,UACxDnJ,EAAUhB,KAEhB,OACEiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQwN,MACtBvN,EAAAC,EAAAC,cAACiM,GAAD,CAAQM,aAAcA,IACtBzM,EAAAC,EAAAC,cAAC2I,GAAD,CAASnC,WAAYA,EAAYwC,UAAWA,EAAWC,qBAAsBA,MCZ3E5K,GAAyBU,EAAzBV,OAAQM,GAAiBI,EAAjBJ,aACRsI,GAAS0B,EAAQ7C,SAAjBmB,KAEFpI,GAAY,SAACE,GAAD,OAAWD,YAAW,CACtCyO,IAAK,CACH/O,gBAAiBO,EAAMP,gBACvBgP,UAAW,QACXtO,QAAS,OACT6C,cAAe,SACf0L,SAAU,qBACVhP,MAAOM,EAAMN,UAIXiP,GAAsB,SAACnP,GAAD,OAAUoP,YAAe,CACnDC,QAAS,CACPrP,WAuCWsP,OAnCf,WAAe,IAAAjN,EACaC,mBAASxC,GAAOC,MAD7BwC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACN7B,EADM+B,EAAA,GACCgN,EADDhN,EAAA,GAAAwG,EAEiBzG,mBAAS,CAAEkF,iBAAkB,GAAIC,oBAAqB,GAAIxD,MAAO,KAFlF+E,EAAAxG,OAAAC,EAAA,EAAAD,CAAAuG,EAAA,GAENzB,EAFM0B,EAAA,GAEGwG,EAFHxG,EAAA,GAAAE,EAGuB5G,mBAAS,MAHhC6G,EAAA3G,OAAAC,EAAA,EAAAD,CAAA0G,EAAA,GAGNjB,EAHMkB,EAAA,GAGMsG,EAHNtG,EAAA,GAAAuG,EAImBpN,mBAASoG,IAJ5BiH,EAAAnN,OAAAC,EAAA,EAAAD,CAAAkN,EAAA,GAINnI,EAJMoI,EAAA,GAII1G,EAJJ0G,EAAA,GAMPrO,EAAUhB,GAAUE,EAAVF,GAUhB,OACEiB,EAAAC,EAAAC,cAACmO,GAAaC,SAAd,CAAuBhO,MAAOrB,GAC5Be,EAAAC,EAAAC,cAACqO,EAAA,EAAD,CAAetP,MAAO2O,GAAoB3O,EAAMR,OAC9CuB,EAAAC,EAAAC,cAAA,OAAKC,UAAWJ,EAAQ0N,KACtBzN,EAAAC,EAAAC,cAAChB,EAAD,CAAQW,aAZI,WAClBmO,EACE/O,IAAUV,GAAOC,KACfD,GAAOK,MACPL,GAAOC,OAQ8BoB,QAASX,IAAUV,GAAOC,OAC7DwB,EAAAC,EAAAC,cAAC8B,EAAD,MACAhC,EAAAC,EAAAC,cAACqN,GAAD,CACEd,aAAcwB,EACdvH,WAAYA,EACZwC,UAAW8D,QAAQjH,GACnBoD,qBAAsBzB,IAExB1H,EAAAC,EAAAC,cAACsO,EAAD,CAASzI,QAASA,EAASU,iBAAkByH,EAAelI,SAAUA,QC5C5DgH,QACW,cAA7ByB,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAS/L,MACvB,2DCZNgM,IAASC,OAAO7O,EAAAC,EAAAC,cAACuN,GAAD,MAASqB,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.13a70e33.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const themes = {\r\n  dark: {\r\n    type: 'dark',\r\n    backgroundColor: '#282c34',\r\n    color: 'white',\r\n  },\r\n  light: {\r\n    type: 'light',\r\n    backgroundColor: 'white',\r\n    color: '#282c34'\r\n  },\r\n}\r\n\r\nexport const ThemeContext = createContext(themes.dark)\r\n","import React, { useContext } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ThemeContext } from './theme'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  toggle: {\r\n    position: 'absolute',\r\n    display: 'inline-flex',\r\n    left: theme.spacing(10),\r\n    top: theme.spacing(2),\r\n  },\r\n  text: {\r\n    margin: 'auto',\r\n  },\r\n}))\r\n\r\nfunction Toggle({checked, handleChange}) {\r\n  const theme = useContext(ThemeContext)\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.toggle}>\r\n      <Switch\r\n        checked={checked}\r\n        onChange={handleChange}\r\n        value=\"theme-toggle\"\r\n        inputProps={{ 'aria-label': 'theme checkbox' }}\r\n      />\r\n      <Typography variant=\"body1\" className={classes.text}>\r\n        {\r\n          theme.type === 'dark' ?\r\n            'Dark theme' :\r\n            'Light theme'\r\n        }\r\n      </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nToggle.propTypes = {\r\n  checked: PropTypes.bool.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Toggle\r\n","import React, { useState, Fragment } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Link from '@material-ui/core/Link'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  link: {\r\n    cursor: 'pointer',\r\n  }\r\n}))\r\n\r\nfunction Copyright() {\r\n  const classes = useStyles()\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <Fragment>\r\n      <Link onClick={() => setOpen(true)} className={classes.link}>ESV</Link>\r\n      <Dialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        aria-labelledby=\"copyright-notice\"\r\n        aria-describedby=\"copyright-notice-description\"\r\n      >\r\n        <DialogTitle id=\"copyright-notice-title\">Copyright notice</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"copyright-notice-description\">\r\n            Scripture quotations are from the ESV® Bible (The Holy Bible, English Standard Version®), copyright © 2001 by Crossway, a publishing ministry of Good News Publishers. Used by permission. All rights reserved. You may not copy or download more than 500 consecutive verses of the ESV Bible or more than one half of any book of the ESV Bible.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Copyright\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Copyright from './copyright'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  title: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n}))\r\n\r\nfunction Title() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.title}>\r\n      <Typography variant=\"h1\">\r\n        StuB\r\n      </Typography>\r\n      <Typography variant=\"subtitle1\">\r\n        Study the Bible &#8226; <Copyright />\r\n      </Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Title\r\n","export const singleChapterBooks = [\r\n  'Obadiah',\r\n  'Philemon',\r\n  '2 John',\r\n  '3 John',\r\n  'Jude',\r\n]\r\n\r\nconst splitQuery = (query) => query.match(/(\\d?\\s?\\w+)\\s?(.*)/)\r\n\r\nexport const addChapterNumbers = (query, text) => {\r\n  const [_, book, verses] = splitQuery(query) // eslint-disable-line no-unused-vars\r\n\r\n  if (singleChapterBooks.includes(book)) {\r\n    return text\r\n  }\r\n\r\n  // No colon = single chapter e.g. Colossians 1\r\n  if (/^[^:]+$/.test(verses)) {\r\n    const chapter = verses\r\n    return text.replace(/\\[1]/, `[${chapter}:1]`)\r\n  }\r\n\r\n  // Single colon no hyphen = single chapter e.g. Colossians 1:1\r\n  if (/^[^–]+:[^–]+$/.test(verses)) {\r\n    const [_, chapter] = verses.match(/(\\d+)/) // eslint-disable-line no-unused-vars\r\n    return text.replace(/\\[1]/, `[${chapter}:1]`)\r\n  }\r\n\r\n  // Single colon preceding hyphen = single chapter e.g. Colossians 1:2–3\r\n  if (/[^–]+:\\d–[^:]$/.test(verses)) {\r\n    const [_, chapter] = verses.match(/(\\d+)/) // eslint-disable-line no-unused-vars\r\n    return text.replace(/\\[1]/, `[${chapter}:1]`)\r\n  }\r\n\r\n  // 2 Colons = multiple chapters e.g. Colossians 1:1–2:2\r\n  if (/:.*:/.test(verses)) {\r\n    let [_, startChapter, startVerse] = verses.match(/(\\d+):(\\d+)/) // eslint-disable-line no-unused-vars\r\n    startVerse !== '1' && startChapter++\r\n    return text.replace(/\\[1]/g, (match) => (\r\n      `[${startChapter++}:1]`\r\n    ))\r\n  }\r\n\r\n  // Single colon post hyphen = multiple chapters e.g. Colossians 1–2:18\r\n  if (/^\\d+–/.test(verses)) {\r\n    let [_, startChapter] = verses.match(/(\\d+)/) // eslint-disable-line no-unused-vars\r\n    return text.replace(/\\[1]/g, (match) => (\r\n      `[${startChapter++}:1]`\r\n    ))\r\n  }\r\n\r\n  return text\r\n}\r\n","function _arity(n, fn) {\r\n  /* eslint-disable no-unused-vars */\r\n  switch (n) {\r\n    case 0: return function() { return fn.apply(this, arguments) }\r\n    case 1: return function(a0) { return fn.apply(this, arguments) }\r\n    case 2: return function(a0, a1) { return fn.apply(this, arguments) }\r\n    case 3: return function(a0, a1, a2) { return fn.apply(this, arguments) }\r\n    case 4: return function(a0, a1, a2, a3) { return fn.apply(this, arguments) }\r\n    case 5: return function(a0, a1, a2, a3, a4) { return fn.apply(this, arguments) }\r\n    case 6: return function(a0, a1, a2, a3, a4, a5) { return fn.apply(this, arguments) }\r\n    case 7: return function(a0, a1, a2, a3, a4, a5, a6) { return fn.apply(this, arguments) }\r\n    case 8: return function(a0, a1, a2, a3, a4, a5, a6, a7) { return fn.apply(this, arguments) }\r\n    case 9: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8) { return fn.apply(this, arguments) }\r\n    case 10: return function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) { return fn.apply(this, arguments) }\r\n    default: throw new Error('First argument to _arity must be a non-negative integer no greater than ten')\r\n  }\r\n}\r\n\r\nfunction _pipe(f, g) {\r\n  return function() {\r\n    return g.call(this, f.apply(this, arguments))\r\n  }\r\n}\r\n\r\nexport function pipe() {\r\n  if (arguments.length === 0) {\r\n    throw new Error('pipe requires at least one argument')\r\n  }\r\n\r\n  const [first, ...rest] = arguments\r\n  return _arity(\r\n    first.length,\r\n    rest.reduce(_pipe, first),\r\n  )\r\n}\r\n","import DOMPurify from 'dompurify'\r\nimport { addChapterNumbers } from './chapter-numbers'\r\nimport { pipe } from '../utils'\r\nimport React from 'react'\r\n\r\nconst superScriptVerseNumbers = (text) => text.replace(/\\[(\\d+:?\\d*)]\\s/g, '<sup style=\"font-size: calc(4px + 1vmin)\">$1</sup>&nbsp;')\r\n\r\nexport const parse = (passage, settings) => {\r\n  if (!passage.query) {\r\n    return ''\r\n  }\r\n\r\n  const text = settings.withVerseNumbers ? passage.withVerseNumbers : passage.withoutVerseNumbers\r\n\r\n  const parsedTest = pipe(addChapterNumbers, superScriptVerseNumbers, DOMPurify.sanitize)(passage.query, text)\r\n\r\n  return <div dangerouslySetInnerHTML={{__html: parsedTest}}></div>\r\n}\r\n","import React, { useRef, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { parse } from './parser'\r\nimport './passage.css'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  passage: {\r\n    margin: theme.spacing(10),\r\n    marginTop: theme.spacing(4),\r\n  },\r\n}))\r\n\r\nfunction Passage({ passage, handlePassageRef, settings }) {\r\n  const classes = useStyles()\r\n  const passageRef = useRef()\r\n\r\n  useEffect(() => {\r\n    handlePassageRef(passageRef.current)\r\n  }, [passageRef, handlePassageRef])\r\n\r\n  const className = settings.withBigMargins ? 'page margin' : 'page'\r\n\r\n  const header = settings.withReference ?\r\n    <Typography variant=\"h4\" gutterBottom className=\"header\">\r\n      {passage.query}\r\n    </Typography> :\r\n    null\r\n\r\n  return (\r\n    <div className={classes.passage}>\r\n      <div ref={passageRef} className={className}>\r\n        {header}\r\n        {parse(passage, settings)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nPassage.propTypes = {\r\n  passage: PropTypes.shape({\r\n    withVerseNumbers: PropTypes.string.isRequired,\r\n    withoutVerseNumbers: PropTypes.string.isRequired,\r\n    query: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  handlePassageRef: PropTypes.func.isRequired,\r\n  settings: PropTypes.shape({\r\n    withVerseNumbers: PropTypes.bool.isRequired,\r\n    withBigMargins: PropTypes.bool.isRequired,\r\n    withReference: PropTypes.bool.isRequired,\r\n  }).isRequired,\r\n}\r\n\r\nexport default Passage\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport const init = {\r\n  withVerseNumbers: false,\r\n  withBigMargins: false,\r\n  withReference: false,\r\n}\r\n\r\nfunction Settings({ open, handleClose, handleChange }) {\r\n  const [initialSettings, setInitialSettings] = useState(init)\r\n  const [settings, setSettings] = useState(init)\r\n  const [confirmed, setConfirmed] = useState(false)\r\n\r\n  useEffect(() => {\r\n    handleChange(settings)\r\n  }, [settings, handleChange])\r\n\r\n  const handleEnter = () => {\r\n    setInitialSettings(settings)\r\n  }\r\n\r\n  const handleExited = () => {\r\n    !confirmed && setSettings(initialSettings)\r\n  }\r\n\r\n  const handleSwitchChange = name => event => {\r\n    setSettings({ ...settings, [name]: event.target.checked })\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setConfirmed(false)\r\n    handleClose()\r\n  }\r\n\r\n  const handleConfirm = () => {\r\n    setConfirmed(true)\r\n    handleClose()\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onEnter={handleEnter} onExited={handleExited} aria-labelledby=\"settings\">\r\n      <DialogContent>\r\n        <FormGroup>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={settings.withVerseNumbers}\r\n                onChange={handleSwitchChange('withVerseNumbers')}\r\n                value=\"withVerseNumbers\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Verse numbers\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={settings.withBigMargins}\r\n                onChange={handleSwitchChange('withBigMargins')}\r\n                value=\"withBigMargins\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Extra large right margin\"\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={settings.withReference}\r\n                onChange={handleSwitchChange('withReference')}\r\n                value=\"withReference\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Passage title\"\r\n          />\r\n        </FormGroup>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleCancel} variant=\"contained\" color=\"secondary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleConfirm} variant=\"contained\" color=\"primary\">\r\n          Confirm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nSettings.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Settings\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport ReactToPrint from 'react-to-print'\r\nimport MaterialButton from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport Settings from './settings'\r\n\r\n// Cannot use theme because ReactToPrint renders the Button in a callback and you are not allowed to use hooks in callbacks\r\nconst classes = {\r\n  actions: {\r\n    position: 'absolute',\r\n    right: '80px',\r\n  },\r\n  settings: {\r\n    marginTop: '22px',\r\n    marginRight: '8px',\r\n  },\r\n  print: {\r\n    marginTop: '22px',\r\n  },\r\n}\r\n\r\nconst buildButton = (isPassage) => (\r\n  <MaterialButton\r\n    variant=\"contained\"\r\n    color=\"primary\"\r\n    style={classes.print}\r\n    disabled={!isPassage}\r\n  >\r\n    Print\r\n  </MaterialButton>\r\n)\r\n\r\nconst Actions = ({ passageRef, isPassage, handleSettingsChange }) => {\r\n  const [open, setOpen] = useState(false)\r\n  const button = buildButton(isPassage)\r\n\r\n  return (\r\n    <div style={classes.actions}>\r\n      <IconButton\r\n        onClick={() => setOpen(true)}\r\n        color=\"primary\"\r\n        style={classes.settings}\r\n        aria-label=\"open settings dialog\"\r\n      >\r\n        <SettingsIcon />\r\n      </IconButton>\r\n      <Settings\r\n        handleClose={() => setOpen(false)}\r\n        handleChange={(settings) => handleSettingsChange(settings)}\r\n        open={open}\r\n      />\r\n      <ReactToPrint\r\n        trigger={() => button}\r\n        content={() => passageRef}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nActions.propTypes = {\r\n  passageRef: PropTypes.object,\r\n  isPassage: PropTypes.bool.isRequired,\r\n  handleSettingsChange: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Actions\r\n","const axios = require('axios')\r\n\r\n// FIXME Don't use env variable as they are embedded into the build\r\nconst fetch = async (query, includeVerseNumbers) => {\r\n  const response = await axios.get('https://api.esv.org/v3/passage/text/', {\r\n    headers: { 'Authorization': `Token ${process.env.REACT_APP_ESV_AUTHORISATION_TOKEN}` },\r\n    params: {\r\n      'q': query,\r\n      'include-verse-numbers': includeVerseNumbers,\r\n      'include-first-verse-numbers': includeVerseNumbers,\r\n      'include-passage-references': false,\r\n      'include-footnotes': false,\r\n      'include-footnote-body': false,\r\n      'include-headings': false,\r\n      'include-short-copyright': false,\r\n      'include-copyright': false,\r\n    },\r\n    timeout: 1000,\r\n  })\r\n  return response.data\r\n}\r\n\r\nconst getPassage = async (query) => {\r\n  const [withVerseNumbers, withoutVerseNumbers] = await Promise.all([fetch(query, true), fetch(query, false)])\r\n\r\n  return {\r\n    withVerseNumbers: withVerseNumbers.passages[0],\r\n    withoutVerseNumbers: withoutVerseNumbers.passages[0],\r\n    query: withVerseNumbers.query,\r\n  }\r\n}\r\n\r\nexport { getPassage }\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { api } from '../../services'\r\n\r\nconst { getPassage } = api\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  search: {\r\n    display: 'flex',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3.5),\r\n    height: 'fit-content',\r\n  },\r\n}))\r\n\r\nfunction Search({ handleSearch }) {\r\n  const [query, setQuery] = useState('')\r\n  const [isFetching, setIsFetching] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const classes = useStyles()\r\n\r\n  const computeErrorMessage = () => `Failed to find \"${query}\"`\r\n\r\n  const fetch = async () => {\r\n    if (query) {\r\n      setIsFetching(true)\r\n      try {\r\n        const passage = await getPassage(query)\r\n        const isError = Boolean(!passage.withVerseNumbers || !passage.withoutVerseNumbers)\r\n        if (isError) {\r\n          setErrorMessage(computeErrorMessage())\r\n        } else {\r\n          setErrorMessage('')\r\n          handleSearch(passage)\r\n        }\r\n      } catch {\r\n        setErrorMessage(computeErrorMessage())\r\n      }\r\n      setIsFetching(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <TextField\r\n        onChange={(event) => setQuery(event.target.value)}\r\n        onKeyPress={(event) => event.key === 'Enter' && fetch()}\r\n        disabled={isFetching}\r\n        error={Boolean(errorMessage)}\r\n        helperText={errorMessage}\r\n        id=\"standard-search\"\r\n        label=\"Enter passage\"\r\n        type=\"search\"\r\n        className={classes.textField}\r\n        margin=\"normal\"\r\n      />\r\n      <Button\r\n        onClick={fetch}\r\n        disabled={isFetching || !query}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        className={classes.button}\r\n      >\r\n        Search\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nSearch.propTypes = {\r\n  handleSearch: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Search from './search'\r\nimport Actions from './actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  menu: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n  },\r\n}))\r\n\r\nfunction Menu({ handleSearch, handleSettingsChange, passageRef, isPassage }) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.menu}>\r\n      <Search handleSearch={handleSearch} />\r\n      <Actions passageRef={passageRef} isPassage={isPassage} handleSettingsChange={handleSettingsChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nMenu.propTypes = {\r\n  handleSearch: PropTypes.func.isRequired,\r\n  handleSettingsChange: PropTypes.func.isRequired,\r\n  passageRef: PropTypes.object,\r\n  isPassage: PropTypes.bool.isRequired,\r\n}\r\n\r\nexport default Menu\r\n","import React, { useState } from 'react'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles'\r\nimport { theme, Toggle } from './theme'\r\nimport Title from './title'\r\nimport Passage from './passage'\r\nimport Menu, { actions } from './menu'\r\n\r\nconst { themes, ThemeContext } = theme\r\nconst { init } = actions.settings\r\n\r\nconst useStyles = (theme) => makeStyles({\r\n  app: {\r\n    backgroundColor: theme.backgroundColor,\r\n    minHeight: '100vh',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    fontSize: 'calc(10px + 2vmin)',\r\n    color: theme.color,\r\n  },\r\n})\r\n\r\nconst createMaterialTheme = (type) => createMuiTheme({\r\n  palette: {\r\n    type,\r\n  },\r\n})\r\n\r\nfunction App() {\r\n  const [theme, setTheme] = useState(themes.dark)\r\n  const [passage, setPassage] = useState({ withVerseNumbers: '', withoutVerseNumbers: '', query: '' })\r\n  const [passageRef, setPassageRef] = useState(null)\r\n  const [settings, setSettings] = useState(init)\r\n\r\n  const classes = useStyles(theme)()\r\n\r\n  const toggleTheme = () => {\r\n    setTheme(\r\n      theme === themes.dark ?\r\n        themes.light :\r\n        themes.dark\r\n    )\r\n  }\r\n\r\n  return (\r\n    <ThemeContext.Provider value={theme}>\r\n      <ThemeProvider theme={createMaterialTheme(theme.type)}>\r\n        <div className={classes.app}>\r\n          <Toggle handleChange={toggleTheme} checked={theme === themes.dark}/>\r\n          <Title />\r\n          <Menu\r\n            handleSearch={setPassage}\r\n            passageRef={passageRef}\r\n            isPassage={Boolean(passage)}\r\n            handleSettingsChange={setSettings}\r\n          />\r\n          <Passage passage={passage} handlePassageRef={setPassageRef} settings={settings} />\r\n        </div>\r\n      </ThemeProvider>\r\n    </ThemeContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './app'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}